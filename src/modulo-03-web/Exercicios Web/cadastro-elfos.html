<!doctype>
<html>
	<head>
		<meta charset="utf-8">
		<title>Formulário de Cadastro dos Elfos</title>
	</head>
	<body>
		<h2>Formulário de Cadastro dos Elfos</h2><br><br>
		<form method="POST" enctype="multipart/form-data">
			<div style="height: 50px;">
				<label for="nome"><b>Nome:</b></label>
				<input name="nome" type="text" placeholder="Nome do Elfo" pattern=".{6,}" title="Seis letras ou mais" required >
			</div>
			<div style="height: 50px;">
				<label for="sexo"><b>Sexo:</b></label>
				<input type="radio" name="sex" value="Masculino" checked>Masculino
				<input type="radio" name="sex" value="Feminino">Feminino
			</div>
			<div style="height: 50px;">
				<label for="qtde"><b>Quantidade de Flechas iniciais do Elfo:</b></label>
				<input name="qtde" type="number" placeholder="Numero de Flechas" value="42">
			</div>
			<div style="height: 50px;">
				<label for="data"><b>Data de Nascimento:</b></label>
				<input name="data" type="date" required>
			</div>
			<div style="height: 50px;">
				<label for="status"><b>Status inicial do Elfo:</b></label>
				<select name="status">
					<option value="dormindo">Dormindo</option>
					<option value="cacando">Caçando</option>
					<option value="contando_piada">Contando Piada</option>
				</select>
			</div>
			<div style="height: 100;">
				<label for="itens"><b>Itens iniciais do Elfo:</b></label><br>
				<input type="checkbox" name="item1" value="Arco e Flecha" checked>Arco e Flecha<br>
				<input type="checkbox" name="item2" value="Espada de aço Porto-alegrense">Espada de aço Porto-alegrense<br>
				<input type="checkbox" name="item3" value="Escudo de amburana" checked>Escudo de Amburana<br>
				<input type="checkbox" name="item4" value="Poção HP">Poção HP<br>
			</div>
			<br><br><br>
			<div style="height: 50px;">
				<label for="avatar"><b>Foto Élfica:</b></label>
				<input name="avatar" type="file" accept=".jpg,.png" onchange="return validaExt()">
			</div>
			<div style="height: 50px;">
				<input type="submit" value="Enviar Cadastro">
			</div>
		</form>
		<script>
			function validaExt(){
				var nomeArquivo = document.getElementsByName('avatar')[0].value;
				var valida = false;
				var extensoesValidas = ['.jpg', '.jpeg', '.png'];
				for (var i = 0, len = extensoesValidas.lenght; i< len; i++;){
					var ext = extensoesValidas[i];
					var apenasExtensao = nomeArquivo.substring(nomeArquivo.lenght-ext.lenght, nomeArquivo.lenght).toLowerCase();
					
					if(apenasExtensao === ext.toLowerCase()){
						valida = true;
						break;
					}
				}
				
				if(valida === false){
					alert('Extensão Inválida!!');
					inputFile.value = null;
				}
				
				return valida;
			}
		</script>
	</body>
</html>