package filmator;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

public class Netflox {
	private ArrayList<Filme> filmes = new ArrayList<Filme>();
	private HashMap<Genero, Integer> visualizazoes = new HashMap<>();
	
	public Netflox() {
	}
	public Netflox(ArrayList<Filme> filmes) {
		this.filmes = filmes;
	}
	
	public ArrayList<Filme> getFilmes() {
		return filmes;
	}
	public HashMap<Genero, Integer> getVisualizazoes() {
		return visualizazoes;
	}
	
	public void reproduzirFilme(Filme filme){
		if(filmes.contains(filme)){
			Genero genero = filme.getGenero();
			int old = genero.getVisualizacoes();
			genero.visualiza();
			visualizazoes.replace(genero, old, genero.getVisualizacoes());
			System.out.println("Reproduzindo agora: " +filme.getNome());
		}
	}
	
	public void gerarRelatorio(){
	       for(Map.Entry<Genero, Integer> entry : visualizazoes.entrySet())
	       {
	    	   String nome = entry.getKey().getNome();
	    	   int views = entry.getValue();
	    	   String exibido = "Gênero: "+nome +" | Visualizações: "+views;
	    	   System.out.println(exibido);
	       }
	}
	
	public void adicionaFilme(Filme filme){
		filmes.add(filme);
	}
	
}
